(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-754ae3bb"],{a55b:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("div",{staticClass:"login-screen"},[t._m(0),n("div",{staticClass:"login-form"},[n("div",{staticClass:"control-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.name,expression:"input.name"}],staticClass:"login-field",attrs:{type:"text",value:"",placeholder:"användarnamn",id:"login-name"},domProps:{value:t.input.name},on:{input:function(e){e.target.composing||t.$set(t.input,"name",e.target.value)}}}),n("label",{staticClass:"login-field-icon fui-user",attrs:{for:"login-name"}})]),n("div",{staticClass:"control-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.password,expression:"input.password"}],staticClass:"login-field",attrs:{type:"password",value:"",placeholder:"lösenord",id:"login-pass"},domProps:{value:t.input.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.postData(e)},input:function(e){e.target.composing||t.$set(t.input,"password",e.target.value)}}}),n("label",{staticClass:"login-field-icon fui-lock",attrs:{for:"login-pass"}})]),n("button",{staticClass:"btn btn-primary btn-large btn-block",on:{click:t.postData}},[t._v("Logga in")]),n("br"),n("router-link",{attrs:{to:"/register"}},[t._v("Vill du registrera dig ")])],1),n("router-view")],1)])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-title"},[n("h1",[t._v("Logga in")])])}],i=(n("b0c0"),n("d3b7"),n("ac1f"),n("5319"),n("96cf"),n("1da1")),r={data:function(){return{input:{password:"",name:""}}},methods:{postData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""===this.input.name||""===this.input.password){t.next=19;break}return e={method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:this.input.name,pass:this.input.password})},t.next=4,fetch("http://uselessquiz.se:3000/api/users/login",e);case 4:return n=t.sent,t.next=7,n.json();case 7:if(a=t.sent,0!==a.length){t.next=12;break}alert("Användarnamn och / eller lösenord är felaktigt!"),t.next=17;break;case 12:if(a[0].user!==this.input.name){t.next=17;break}return this.$emit("authenticated",!0),this.$emit("user",a[0]),t.next=17,this.$router.replace({name:"mypage"});case 17:t.next=20;break;case 19:alert("Både användarnamn och lösenord måste vara ifyllda!");case 20:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.$parent.footerPos="fixed"}},o=r,l=(n("d6db"),n("2877")),u=Object(l["a"])(o,a,s,!1,null,null,null);e["default"]=u.exports},b0c0:function(t,e,n){var a=n("83ab"),s=n("9bf2").f,i=Function.prototype,r=i.toString,o=/^\s*function ([^ (]*)/,l="name";a&&!(l in i)&&s(i,l,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})},d6db:function(t,e,n){"use strict";var a=n("e67a"),s=n.n(a);s.a},e67a:function(t,e,n){}}]);
//# sourceMappingURL=chunk-754ae3bb.5a8199e6.js.map